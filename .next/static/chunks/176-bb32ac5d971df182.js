"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{5176:function(e,t,s){s.d(t,{Z:function(){return w}});var r=s(4051),n=s.n(r),l=s(5893),i=s(9583),a=s(7106),c=s(3750),o=s(1872),x=s(7294),d=s(1163),u=s(9669),h=s.n(u),m=s(9473),p=s(9185);function f(e){var t=e.setCreateNewTypeMode;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:"Create a new Class"}),(0,l.jsx)("form",{children:(0,l.jsxs)("div",{className:"flex flex-col first:text-sm",children:[(0,l.jsx)("label",{className:"text-white px-1",children:"name"}),(0,l.jsx)("input",{className:"text-black w-1/4 px-2 rounded-lg",type:"text",required:!0,id:"name",name:"name"}),(0,l.jsx)("label",{className:"text-white px-1",children:"school"}),(0,l.jsx)("input",{className:"text-black w-1/4 px-2 rounded-lg",type:"text",required:!0,id:"school",name:"school"}),(0,l.jsx)("label",{className:"text-white px-1",children:"passcode"}),(0,l.jsx)("input",{className:"text-black w-1/4 px-2 rounded-lg",type:"password",required:!0,id:"password",name:"password"}),(0,l.jsx)("label",{className:"text-white px-1",children:"confirm passcode"}),(0,l.jsx)("input",{className:"text-black w-1/4 px-2 rounded-lg",type:"password",required:!0,id:"confirm_password",name:"confirm_password"}),(0,l.jsxs)("div",{className:"flex flex-row py-5 justify-start text-center text-sm space-x-2",children:[(0,l.jsx)("div",{className:"bg-black border-2 border-white hover:bg-gray-800 text-white rounded-lg px-2 cursor-pointer",onClick:function(){return t(!1)},children:(0,l.jsx)("span",{children:"Cancel"})}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-600 border-2 border-blue-700 hover:border-blue-600 px-3 rounded-lg text-white",children:"Create"})]})]})})]})}function b(){return(0,l.jsx)("div",{children:"Create a new Group"})}function j(e,t,s,r,n,l,i){try{var a=e[l](i),c=a.value}catch(o){return void s(o)}a.done?t(c):Promise.resolve(c).then(r,n)}function g(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var l=e.apply(t,s);function i(e){j(l,r,n,i,a,"next",e)}function a(e){j(l,r,n,i,a,"throw",e)}i(void 0)}))}}function w(e){var t=e.children,s=function(e){N(e)},r=function(e){u.currentTab.toLowerCase()!==e.toLowerCase()&&(j((0,p.Lw)(e.toLowerCase())),C(!1),T.push("/"+e.toLowerCase()))},u=(0,m.v9)((function(e){return e.user_store.user})),j=(0,m.I0)(),w=(0,x.useState)(""),v=w[0],N=w[1],k=(0,x.useState)(!1),y=k[0],C=k[1],T=(0,d.useRouter)();return(0,l.jsxs)(l.Fragment,{children:[!u.isLoggedIn&&(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)("div",{className:"px-5 pb-2 basis-3/5 md:basis-2/5 lg:basis-1/5 bg-black shadow-xl shadow-black rounded-3xl",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex flex-col items-center mt-10 space-y-3 text-blue-700",children:(0,l.jsx)(i.s1w,{size:100})}),""===v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-blue-700 text-3xl text-center mb-5",children:"kollab"}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center cursor-pointer space-x-1 py-1 my-2 text-sm text-black bg-white hover:bg-gray-200 rounded-xl",children:[(0,l.jsx)(o.JM8,{}),(0,l.jsx)("div",{children:"Sign up with Google"})]}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-center cursor-pointer space-x-1 py-1 my-2 text-sm text-black bg-white hover:bg-gray-200 rounded-xl",children:[(0,l.jsx)(c.rFR,{}),(0,l.jsx)("div",{children:"Sign up with Github"})]}),(0,l.jsx)("div",{className:"flex justify-center py-1 my-2 text-sm cursor-pointer bg-blue-700 hover:bg-blue-800 rounded-xl",onClick:function(){return s("register")},children:(0,l.jsx)("div",{className:"text-white",children:"Sign up with Email"})}),(0,l.jsx)("div",{className:"py-1 my-2 text-sm text-white mt-5",children:"Already have an account?"}),(0,l.jsx)("div",{className:"flex justify-center py-1 text-sm cursor-pointer bg-blue-700 hover:bg-blue-800 rounded-xl",onClick:function(){return s("login")},children:(0,l.jsx)("div",{className:"text-white",children:"Log in"})}),(0,l.jsxs)("div",{className:"text-center text-white text-sm",children:["forgot password?"," ",(0,l.jsx)("span",{className:"underline cursor-pointer",onClick:function(){return T.push("/reset")},children:"reset"})]})]}),"login"===v&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"text-white text-center text-2xl mb-5",children:["Log in to ",(0,l.jsx)("span",{className:"text-blue-700",children:"kollab"})]}),(0,l.jsx)("div",{className:"px-1",children:(0,l.jsx)("form",{onSubmit:function(e){return _.apply(this,arguments)},children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{className:"text-white",children:"email"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"email",name:"email"}),(0,l.jsx)("label",{className:"text-white",children:"password"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"password",name:"password"}),(0,l.jsxs)("div",{className:"flex flex-row py-5 text-center space-x-1",children:[(0,l.jsx)("div",{onClick:function(){s("")},className:"basis-2/5 bg-black border-2 border-white hover:bg-gray-800 text-white rounded-xl px-1 cursor-pointer",children:(0,l.jsx)("span",{children:"back"})}),(0,l.jsx)("button",{type:"submit",className:"basis-3/5 bg-blue-700 hover:bg-blue-600 w-full rounded-xl text-white",children:"Log in"})]})]})})})]}),"register"===v&&(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"text-white text-center text-2xl mb-5",children:["Log in to ",(0,l.jsx)("span",{className:"text-blue-700",children:"kollab"})]}),(0,l.jsx)("div",{className:"px-1",children:(0,l.jsx)("form",{onSubmit:function(e){return z.apply(this,arguments)},children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{className:"text-white",children:"first name"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"first_name",name:"first_name"})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("label",{className:"text-white",children:"last name"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"last_name",name:"last_name"})]})]}),(0,l.jsx)("label",{className:"text-white",children:"email"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"email",name:"email"}),(0,l.jsx)("label",{className:"text-white",children:"password"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"password",name:"password"}),(0,l.jsx)("label",{className:"text-white",children:"confirm password"}),(0,l.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"confirm_password",name:"confirm_password"}),(0,l.jsxs)("div",{className:"flex flex-row py-5 text-center space-x-1",children:[(0,l.jsx)("div",{onClick:function(){return s("")},className:"basis-2/5 bg-black border-2 border-white hover:bg-gray-800 text-white rounded-xl px-1 cursor-pointer",children:(0,l.jsx)("span",{children:"back"})}),(0,l.jsx)("button",{type:"submit",className:"basis-3/5 bg-blue-700 hover:bg-blue-600 w-full rounded-xl text-white",children:"Create Account"})]})]})})})]})]})})}),u.isLoggedIn&&(0,l.jsx)("div",{className:"mb-10",children:(0,l.jsxs)("div",{className:"flex container mx-auto",children:[(0,l.jsx)("div",{className:"hidden sm:block sm:w-1/12 md:w-2/12 md:px-5 lg:px-10 pt-5",children:(0,l.jsxs)("div",{className:"flex flex-col py-5 space-y-5",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center font-semibold text-blue-700 text-2xl cursor-pointer",children:[(0,l.jsx)(i.s1w,{size:32}),(0,l.jsx)("div",{className:"hidden md:block",children:"kollab"})]}),(0,l.jsxs)("div",{onClick:function(){r("")},className:"".concat(""===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,l.jsx)(a.MXJ,{size:32,strokeWidth:"1"}),(0,l.jsx)("div",{className:"hidden md:block",children:"Home"})]}),(0,l.jsxs)("div",{onClick:function(){r("user")},className:"".concat("user"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,l.jsx)(a.S8z,{size:32,strokeWidth:"1"}),(0,l.jsx)("div",{className:"hidden md:block",children:"User"})]}),(0,l.jsxs)("div",{onClick:function(){r("classes")},className:"".concat("classes"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,l.jsx)(a.K99,{size:32,strokeWidth:"1"}),(0,l.jsx)("div",{className:"hidden md:block",children:"Classes"})]}),(0,l.jsxs)("div",{onClick:function(){r("groups")},className:"".concat("groups"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,l.jsx)(a.HLl,{size:32,strokeWidth:"1"}),(0,l.jsx)("div",{className:"hidden md:block",children:"Groups"})]})]})}),(0,l.jsxs)("div",{className:"w-full sm:w-11/12 md:w-10/12 pt-5 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-5 bg-black rounded-xl text-white text-2xl font-bold",children:[(0,l.jsx)("div",{children:""===u.currentTab?"home":u.currentTab}),(0,l.jsxs)("div",{className:"flex flex-row items-center space-x-2 font-medium text-sm",children:[!u.isLoggedIn&&(0,l.jsxs)("div",{onClick:function(){return T.push("/login")},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,l.jsx)(a.V5F,{}),(0,l.jsx)("div",{children:"Login"})]}),!u.isLoggedIn&&(0,l.jsxs)("div",{onClick:function(){return T.push("/register")},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,l.jsx)(a.xv7,{}),(0,l.jsx)("div",{children:"Register"})]}),u.isLoggedIn&&(0,l.jsxs)(l.Fragment,{children:[("classes"===u.currentTab||"groups"===u.currentTab)&&(0,l.jsxs)("div",{onClick:function(){return C(!0)},className:"flex flex-row items-center bg-stone-800 hover:bg-stone-900 space-x-1 p-1 rounded cursor-pointer",children:[(0,l.jsx)(a.rIf,{}),(0,l.jsx)("div",{children:"New"})]}),(0,l.jsxs)("div",{onClick:function(){return function(){return L.apply(this,arguments)}()},className:"flex flex-row items-center bg-stone-800 hover:bg-stone-900 space-x-1 p-1 rounded cursor-pointer",children:[(0,l.jsx)(a.VUx,{}),(0,l.jsx)("div",{children:"Logout"})]})]})]})]}),y&&(0,l.jsxs)("div",{className:"flex flex-col justify-center p-5 bg-black rounded-xl text-white text-2xl font-bold",children:["classes"===u.currentTab&&(0,l.jsx)(f,{setCreateNewTypeMode:C}),"groups"===u.currentTab&&(0,l.jsx)(b,{})]}),(0,l.jsx)("div",{className:"bg-black rounded-xl p-5 text-white text-2xl font-bold mt-2",children:(0,l.jsx)("main",{children:t})})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-between fixed bottom-0 px-20 w-full sm:hidden text-white bg-black py-2",children:[(0,l.jsx)(i.s1w,{onClick:function(){r("")},className:"text-blue-700",size:32}),(0,l.jsx)(a.MXJ,{onClick:function(){r("")},size:32,strokeWidth:1,className:""===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"}),(0,l.jsx)(a.S8z,{onClick:function(){r("user")},size:32,strokeWidth:1,className:"user"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"}),(0,l.jsx)(a.K99,{onClick:function(){r("classes")},size:32,strokeWidth:1,className:"classes"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"}),(0,l.jsx)(a.HLl,{onClick:function(){r("groups")},size:32,strokeWidth:1,className:"groups"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"})]})]})})]});function _(){return(_=g(n().mark((function e(t){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={email:t.currentTarget.email.value,password:t.currentTarget.password.value},e.prev=2,e.next=5,h()({method:"post",url:"/api/login",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){j((0,p.Q_)(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function L(){return(L=g(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"get",url:"/api/logout"}).then((function(e){j((0,p.Q_)(e.data))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function z(){return(z=g(n().mark((function e(t){var s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={first_name:t.currentTarget.first_name.value,last_name:t.currentTarget.last_name.value,email:t.currentTarget.email.value,password:t.currentTarget.password.value},e.prev=2,e.next=5,h()({method:"post",url:"/api/register",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){"Email already exists"!==e.data.message&&j((0,p.Q_)(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}}}}]);