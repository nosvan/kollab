"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{1314:function(e,t,s){s.d(t,{Z:function(){return y}});var r,n=s(4051),i=s.n(n),a=s(5893),l=s(9583),c=s(7106),o=s(3750),x=s(1872),d=s(7294),u=s(1163),h=s(9669),m=s.n(h),p=s(9473),f=s(9185);function b(e){var t=e.setCreateNewTypeMode;e.user.id;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-base px-1",children:"Create a new Class"}),(0,a.jsx)("form",{onSubmit:function(e){e.preventDefault();e.currentTarget},children:(0,a.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,a.jsx)("label",{className:"text-white px-1",children:"name"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"text",required:!0,id:"name",name:"name"}),(0,a.jsx)("label",{className:"text-white px-1",children:"school"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"text",required:!0,id:"school",name:"school"}),(0,a.jsx)("label",{className:"text-white px-1",children:"semester"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"text",required:!0,id:"semester",name:"semester"}),(0,a.jsx)("label",{className:"text-white px-1",children:"year"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"text",required:!0,id:"year",name:"year"}),(0,a.jsx)("label",{className:"text-white px-1",children:"passcode"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"password",required:!0,id:"password",name:"password"}),(0,a.jsx)("label",{className:"text-white px-1",children:"confirm passcode"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"password",required:!0,id:"confirm_password",name:"confirm_password"}),(0,a.jsxs)("div",{className:"flex flex-row py-5 justify-start text-center text-sm space-x-2",children:[(0,a.jsx)("div",{className:"bg-black border-2 border-white hover:bg-gray-800 text-white rounded-lg px-2 cursor-pointer",onClick:function(){return t(!1)},children:(0,a.jsx)("span",{children:"Cancel"})}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-600 border-2 border-blue-700 hover:border-blue-600 px-3 rounded-lg text-white",children:"Create"})]})]})})]})}function w(e,t,s,r,n,i,a){try{var l=e[i](a),c=l.value}catch(o){return void s(o)}l.done?t(c):Promise.resolve(c).then(r,n)}function g(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var i=e.apply(t,s);function a(e){w(i,r,n,a,l,"next",e)}function l(e){w(i,r,n,a,l,"throw",e)}a(void 0)}))}}function j(e){var t=e.setCreateNewTypeMode,s=e.user.id;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-base px-1",children:"Create a new Group"}),(0,a.jsx)("form",{onSubmit:function(e){return r.apply(this,arguments)},children:(0,a.jsxs)("div",{className:"flex flex-col text-sm",children:[(0,a.jsx)("label",{className:"text-white px-1",children:"name"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"text",required:!0,id:"group_name",name:"group_name"}),(0,a.jsx)("label",{className:"text-white px-1",children:"passcode"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"password",required:!0,id:"passcode",name:"passcode"}),(0,a.jsx)("label",{className:"text-white px-1",children:"confirm passcode"}),(0,a.jsx)("input",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",type:"password",required:!0,id:"confirm_passcode",name:"confirm_passcode"}),(0,a.jsx)("label",{className:"text-white px-1",children:"brief description"}),(0,a.jsx)("textarea",{className:"text-white bg-stone-800 w-2/3 md:w-1/3 px-2 rounded-lg",required:!0,id:"description",name:"description"}),(0,a.jsxs)("div",{className:"flex flex-row py-5 justify-start text-center text-sm space-x-2",children:[(0,a.jsx)("div",{className:"bg-black border-2 border-white hover:bg-gray-800 text-white rounded-lg px-2 cursor-pointer",onClick:function(){return t(!1)},children:(0,a.jsx)("span",{children:"Cancel"})}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-600 border-2 border-blue-700 hover:border-blue-600 px-3 rounded-lg text-white",children:"Create"})]})]})})]});function r(){return(r=g(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=t.currentTarget,n={name:r.group_name.value,description:r.description.value,owner_id:s,passcode:r.passcode.value},e.prev=3,e.next=6,m()({method:"post",url:"/api/group/new",data:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}}function v(e,t,s,r,n,i,a){try{var l=e[i](a),c=l.value}catch(o){return void s(o)}l.done?t(c):Promise.resolve(c).then(r,n)}function N(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var i=e.apply(t,s);function a(e){v(i,r,n,a,l,"next",e)}function l(e){v(i,r,n,a,l,"throw",e)}a(void 0)}))}}function y(e){var t=e.children,s=function(e){y(e)},n=function(e){h.currentTab.toLowerCase()!=e.toLowerCase()&&(w((0,f.Lw)(e)),S(!1),T.push("/"+e.toLowerCase()))},h=(0,p.v9)((function(e){return e.user_store.user})),w=(0,p.I0)(),g=(0,d.useState)(""),v=g[0],y=g[1],k=(0,d.useState)(!1),C=k[0],S=k[1],T=(0,u.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[!h.isLoggedIn&&(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)("div",{className:"px-5 pb-2 basis-3/5 md:basis-2/5 lg:basis-1/5 bg-black shadow-xl shadow-black rounded-3xl",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex flex-col items-center mt-10 space-y-3 text-blue-700",children:(0,a.jsx)(l.s1w,{size:100})}),""===v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"text-blue-700 text-3xl text-center mb-5",children:"kollab"}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center cursor-pointer space-x-1 py-1 my-2 text-sm text-black bg-white hover:bg-gray-200 rounded-xl",children:[(0,a.jsx)(x.JM8,{}),(0,a.jsx)("div",{children:"Sign up with Google"})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center cursor-pointer space-x-1 py-1 my-2 text-sm text-black bg-white hover:bg-gray-200 rounded-xl",children:[(0,a.jsx)(o.rFR,{}),(0,a.jsx)("div",{children:"Sign up with Github"})]}),(0,a.jsx)("div",{className:"flex justify-center py-1 my-2 text-sm cursor-pointer bg-blue-700 hover:bg-blue-800 rounded-xl",onClick:function(){return s("register")},children:(0,a.jsx)("div",{className:"text-white",children:"Sign up with Email"})}),(0,a.jsx)("div",{className:"py-1 my-2 text-sm text-white mt-5",children:"Already have an account?"}),(0,a.jsx)("div",{className:"flex justify-center py-1 text-sm cursor-pointer bg-blue-700 hover:bg-blue-800 rounded-xl",onClick:function(){return s("login")},children:(0,a.jsx)("div",{className:"text-white",children:"Log in"})}),(0,a.jsxs)("div",{className:"text-center text-white text-sm",children:["forgot password?"," ",(0,a.jsx)("span",{className:"underline cursor-pointer",onClick:function(){return T.push("/reset")},children:"reset"})]})]}),"login"===v&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"text-white text-center text-2xl mb-5",children:["Log in to ",(0,a.jsx)("span",{className:"text-blue-700",children:"kollab"})]}),(0,a.jsx)("div",{className:"px-1",children:(0,a.jsx)("form",{onSubmit:function(e){return _.apply(this,arguments)},children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-white",children:"email"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"email",name:"email"}),(0,a.jsx)("label",{className:"text-white",children:"password"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"password",name:"password"}),(0,a.jsxs)("div",{className:"flex flex-row py-5 text-center space-x-1",children:[(0,a.jsx)("div",{onClick:function(){s("")},className:"basis-2/5 bg-black border-2 border-white hover:bg-gray-800 text-white rounded-xl px-1 cursor-pointer",children:(0,a.jsx)("span",{children:"back"})}),(0,a.jsx)("button",{type:"submit",className:"basis-3/5 bg-blue-700 hover:bg-blue-600 w-full rounded-xl text-white",children:"Log in"})]})]})})})]}),"register"===v&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"text-white text-center text-2xl mb-5",children:["Log in to ",(0,a.jsx)("span",{className:"text-blue-700",children:"kollab"})]}),(0,a.jsx)("div",{className:"px-1",children:(0,a.jsx)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-white",children:"first name"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"first_name",name:"first_name"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-white",children:"last name"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"last_name",name:"last_name"})]})]}),(0,a.jsx)("label",{className:"text-white",children:"email"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"email",name:"email"}),(0,a.jsx)("label",{className:"text-white",children:"password"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"password",name:"password"}),(0,a.jsx)("label",{className:"text-white",children:"confirm password"}),(0,a.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"confirm_password",name:"confirm_password"}),(0,a.jsxs)("div",{className:"flex flex-row py-5 text-center space-x-1",children:[(0,a.jsx)("div",{onClick:function(){return s("")},className:"basis-2/5 bg-black border-2 border-white hover:bg-gray-800 text-white rounded-xl px-1 cursor-pointer",children:(0,a.jsx)("span",{children:"back"})}),(0,a.jsx)("button",{type:"submit",className:"basis-3/5 bg-blue-700 hover:bg-blue-600 w-full rounded-xl text-white",children:"Create Account"})]})]})})})]})]})})}),h.isLoggedIn&&(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsxs)("div",{className:"flex container mx-auto",children:[(0,a.jsx)("div",{className:"hidden sm:block sm:w-1/12 md:w-2/12 md:px-5 lg:px-10 pt-5",children:(0,a.jsxs)("div",{className:"flex flex-col py-5 space-y-5",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center font-semibold text-blue-700 text-2xl cursor-pointer",children:[(0,a.jsx)(l.s1w,{size:32}),(0,a.jsx)("div",{className:"hidden md:block",children:"kollab"})]}),(0,a.jsxs)("div",{onClick:function(){n(r.HOME)},className:"".concat(h.currentTab==r.HOME?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,a.jsx)(c.MXJ,{size:32,strokeWidth:"1"}),(0,a.jsx)("div",{className:"hidden md:block",children:"home"})]}),(0,a.jsxs)("div",{onClick:function(){n(r.USER)},className:"".concat(h.currentTab==r.USER?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,a.jsx)(c.S8z,{size:32,strokeWidth:"1"}),(0,a.jsx)("div",{className:"hidden md:block",children:r.USER})]}),(0,a.jsxs)("div",{onClick:function(){n(r.CLASS)},className:"".concat(h.currentTab==r.CLASS?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,a.jsx)(c.K99,{size:32,strokeWidth:"1"}),(0,a.jsx)("div",{className:"hidden md:block",children:r.CLASS})]}),(0,a.jsxs)("div",{onClick:function(){n(r.GROUP)},className:"".concat(h.currentTab==r.GROUP?"text-white font-light":"text-gray-400 font-extralight"," flex flex-row items-center text-lg cursor-pointer hover:text-white"),children:[(0,a.jsx)(c.HLl,{size:32,strokeWidth:"1"}),(0,a.jsx)("div",{className:"hidden md:block",children:r.GROUP})]})]})}),(0,a.jsxs)("div",{className:"w-full sm:w-11/12 md:w-10/12 pt-5 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 bg-black rounded-xl text-white text-2xl font-bold",children:[(0,a.jsx)("div",{children:h.currentTab==r.HOME?"Home":h.currentTab}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2 font-medium text-sm",children:[!h.isLoggedIn&&(0,a.jsxs)("div",{onClick:function(){return T.push("/login")},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,a.jsx)(c.V5F,{}),(0,a.jsx)("div",{children:"Login"})]}),!h.isLoggedIn&&(0,a.jsxs)("div",{onClick:function(){return T.push("/register")},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,a.jsx)(c.xv7,{}),(0,a.jsx)("div",{children:"Register"})]}),h.isLoggedIn&&(0,a.jsxs)(a.Fragment,{children:[(h.currentTab==r.CLASS||h.currentTab==r.GROUP)&&(0,a.jsxs)("div",{onClick:function(){return S(!0)},className:"flex flex-row items-center bg-stone-800 hover:bg-stone-900 space-x-1 p-1 rounded cursor-pointer",children:[(0,a.jsx)(c.rIf,{}),(0,a.jsx)("div",{children:"New"})]}),(0,a.jsxs)("div",{onClick:function(){return function(){return L.apply(this,arguments)}()},className:"flex flex-row items-center bg-stone-800 hover:bg-stone-900 space-x-1 p-1 rounded cursor-pointer",children:[(0,a.jsx)(c.VUx,{}),(0,a.jsx)("div",{children:"Logout"})]})]})]})]}),C&&(0,a.jsxs)("div",{className:"flex flex-col justify-center p-5 bg-black rounded-xl text-white text-2xl font-bold",children:[h.currentTab==r.CLASS&&(0,a.jsx)(b,{setCreateNewTypeMode:S,user:h}),h.currentTab==r.GROUP&&(0,a.jsx)(j,{setCreateNewTypeMode:S,user:h})]}),(0,a.jsx)("div",{className:"bg-black rounded-xl p-5 text-white text-2xl font-bold mt-2",children:(0,a.jsx)("main",{children:t})})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-between fixed bottom-0 px-20 w-full sm:hidden text-white bg-black py-2",children:[(0,a.jsx)(l.s1w,{onClick:function(){n(r.HOME)},className:"text-blue-700",size:32}),(0,a.jsx)(c.MXJ,{onClick:function(){n(r.HOME)},size:32,strokeWidth:1,className:h.currentTab==r.HOME?"text-white font-light":"text-gray-400 font-extralight"}),(0,a.jsx)(c.S8z,{onClick:function(){n(r.USER)},size:32,strokeWidth:1,className:h.currentTab==r.USER?"text-white font-light":"text-gray-400 font-extralight"}),(0,a.jsx)(c.K99,{onClick:function(){n(r.CLASS)},size:32,strokeWidth:1,className:h.currentTab==r.CLASS?"text-white font-light":"text-gray-400 font-extralight"}),(0,a.jsx)(c.HLl,{onClick:function(){n(r.GROUP)},size:32,strokeWidth:1,className:h.currentTab==r.GROUP?"text-white font-light":"text-gray-400 font-extralight"})]})]})})]});function _(){return(_=N(i().mark((function e(t){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={email:t.currentTarget.email.value,password:t.currentTarget.password.value},e.prev=2,e.next=5,m()({method:"post",url:"/api/login",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){w((0,f.Q_)(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function L(){return(L=N(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m()({method:"get",url:"/api/logout"}).then((function(e){w((0,f.Q_)(e.data))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function O(){return(O=N(i().mark((function e(t){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={first_name:t.currentTarget.first_name.value,last_name:t.currentTarget.last_name.value,email:t.currentTarget.email.value,password:t.currentTarget.password.value},e.prev=2,e.next=5,m()({method:"post",url:"/api/register",data:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){"Email already exists"!==e.data.message&&w((0,f.Q_)(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}}!function(e){e.CLASS="classes",e.GROUP="groups",e.USER="user",e.HOME=""}(r||(r={}))}}]);