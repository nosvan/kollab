"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5603:function(e,s,t){t.d(s,{Z:function(){return j}});var r=t(4051),n=t.n(r),i=t(5893),l=t(9583),a=t(7106),c=t(3750),o=t(1872),x=t(7294),d=t(1163),u=t(9669),h=t.n(u),m=t(9473),p=t(9185);function f(e,s,t,r,n,i,l){try{var a=e[i](l),c=a.value}catch(o){return void t(o)}a.done?s(c):Promise.resolve(c).then(r,n)}function b(e){return function(){var s=this,t=arguments;return new Promise((function(r,n){var i=e.apply(s,t);function l(e){f(i,r,n,l,a,"next",e)}function a(e){f(i,r,n,l,a,"throw",e)}l(void 0)}))}}function j(e){var s=e.children,t=function(e){g(e)},r=function(e){u.currentTab.toLowerCase()!==e.toLowerCase()&&(f((0,p.Lw)(e.toLowerCase())),w.push("/"+e.toLowerCase()))},u=(0,m.v9)((function(e){return e.user_store.user})),f=(0,m.I0)(),j=(0,x.useState)(""),v=j[0],g=j[1],w=(0,d.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[!u.isLoggedIn&&(0,i.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,i.jsx)("div",{className:"px-5 pb-2 basis-3/5 md:basis-2/5 lg:basis-1/5 bg-black shadow-xl shadow-black rounded-3xl",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"flex flex-col items-center mt-10 space-y-3 text-blue-700",children:(0,i.jsx)(l.s1w,{size:100})}),""===v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-blue-700 text-3xl text-center mb-5",children:"kollab"}),(0,i.jsxs)("div",{className:"flex flex-row items-center justify-center cursor-pointer space-x-1 py-1 my-2 text-sm text-black bg-white hover:bg-gray-200 rounded-xl",children:[(0,i.jsx)(o.JM8,{}),(0,i.jsx)("div",{children:"Sign up with Google"})]}),(0,i.jsxs)("div",{className:"flex flex-row items-center justify-center cursor-pointer space-x-1 py-1 my-2 text-sm text-black bg-white hover:bg-gray-200 rounded-xl",children:[(0,i.jsx)(c.rFR,{}),(0,i.jsx)("div",{children:"Sign up with Github"})]}),(0,i.jsx)("div",{className:"flex justify-center py-1 my-2 text-sm cursor-pointer bg-blue-700 hover:bg-blue-800 rounded-xl",onClick:function(){return t("register")},children:(0,i.jsx)("div",{className:"text-white",children:"Sign up with Email"})}),(0,i.jsx)("div",{className:"py-1 my-2 text-sm text-white mt-5",children:"Already have an account?"}),(0,i.jsx)("div",{className:"flex justify-center py-1 text-sm cursor-pointer bg-blue-700 hover:bg-blue-800 rounded-xl",onClick:function(){return t("login")},children:(0,i.jsx)("div",{className:"text-white",children:"Log in"})}),(0,i.jsxs)("div",{className:"text-center text-white text-sm",children:["forgot password?"," ",(0,i.jsx)("span",{className:"underline cursor-pointer",onClick:function(){return w.push("/reset")},children:"reset"})]})]}),"login"===v&&(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"text-white text-center text-2xl mb-5",children:["Log in to ",(0,i.jsx)("span",{className:"text-blue-700",children:"kollab"})]}),(0,i.jsx)("div",{className:"px-1",children:(0,i.jsx)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{className:"text-white",children:"email"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"email",name:"email"}),(0,i.jsx)("label",{className:"text-white",children:"password"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"password",name:"password"}),(0,i.jsxs)("div",{className:"flex flex-row py-5 text-center space-x-1",children:[(0,i.jsx)("div",{onClick:function(){t("")},className:"basis-2/5 bg-black border-2 border-white hover:bg-gray-800 text-white rounded-xl px-1 cursor-pointer",children:(0,i.jsx)("span",{children:"back"})}),(0,i.jsx)("button",{type:"submit",className:"basis-3/5 bg-blue-700 hover:bg-blue-600 w-full rounded-xl text-white",children:"Log in"})]})]})})})]}),"register"===v&&(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"text-white text-center text-2xl mb-5",children:["Log in to ",(0,i.jsx)("span",{className:"text-blue-700",children:"kollab"})]}),(0,i.jsx)("div",{className:"px-1",children:(0,i.jsx)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{className:"text-white",children:"first name"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"first_name",name:"first_name"})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{className:"text-white",children:"last name"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"last_name",name:"last_name"})]})]}),(0,i.jsx)("label",{className:"text-white",children:"email"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"text",required:!0,id:"email",name:"email"}),(0,i.jsx)("label",{className:"text-white",children:"password"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"password",name:"password"}),(0,i.jsx)("label",{className:"text-white",children:"confirm password"}),(0,i.jsx)("input",{className:"text-black rounded-xl px-2",type:"password",required:!0,id:"confirm_password",name:"confirm_password"}),(0,i.jsxs)("div",{className:"flex flex-row py-5 text-center space-x-1",children:[(0,i.jsx)("div",{onClick:function(){return t("")},className:"basis-2/5 bg-black border-2 border-white hover:bg-gray-800 text-white rounded-xl px-1 cursor-pointer",children:(0,i.jsx)("span",{children:"back"})}),(0,i.jsx)("button",{type:"submit",className:"basis-3/5 bg-blue-700 hover:bg-blue-600 w-full rounded-xl text-white",children:"Create Account"})]})]})})})]})]})})}),u.isLoggedIn&&(0,i.jsx)("div",{className:"my-5",children:(0,i.jsxs)("div",{className:"flex container mx-auto",children:[(0,i.jsx)("div",{className:"hidden sm:block sm:w-1/12 md:w-2/12 md:px-5 lg:px-10 pt-5",children:(0,i.jsxs)("div",{className:"flex flex-col py-5 space-y-5",children:[(0,i.jsxs)("div",{className:"flex flex-row items-center font-semibold text-blue-700 text-2xl cursor-pointer",children:[(0,i.jsx)(l.s1w,{size:32}),(0,i.jsx)("div",{className:"hidden md:block",children:"kollab"})]}),(0,i.jsxs)("div",{onClick:function(){r("")},className:"flex flex-row items-center text-lg cursor-pointer ".concat(""===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"),children:[(0,i.jsx)(a.MXJ,{size:32,strokeWidth:"1"}),(0,i.jsx)("div",{className:"hidden md:block",children:"Home"})]}),(0,i.jsxs)("div",{onClick:function(){r("user")},className:"flex flex-row items-center text-lg cursor-pointer ".concat("user"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"),children:[(0,i.jsx)(a.S8z,{size:32,strokeWidth:"1"}),(0,i.jsx)("div",{className:"hidden md:block",children:"User"})]}),(0,i.jsxs)("div",{onClick:function(){r("classes")},className:"flex flex-row items-center text-lg cursor-pointer ".concat("classes"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"),children:[(0,i.jsx)(a.K99,{size:32,strokeWidth:"1"}),(0,i.jsx)("div",{className:"hidden md:block",children:"Classes"})]}),(0,i.jsxs)("div",{onClick:function(){r("groups")},className:"flex flex-row items-center text-lg cursor-pointer ".concat("groups"===u.currentTab?"text-white font-light":"text-gray-400 font-extralight"),children:[(0,i.jsx)(a.HLl,{size:32,strokeWidth:"1"}),(0,i.jsx)("div",{className:"hidden md:block",children:"Groups"})]})]})}),(0,i.jsxs)("div",{className:"w-full sm:w-11/12 md:w-10/12 pt-5",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-5 bg-black rounded-xl text-white text-2xl font-bold",children:[(0,i.jsx)("div",{children:u.currentTab}),(0,i.jsxs)("div",{className:"flex flex-row items-center space-x-2 font-medium text-base",children:[!u.isLoggedIn&&(0,i.jsxs)("div",{onClick:function(){return w.push("/login")},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,i.jsx)(a.V5F,{}),(0,i.jsx)("div",{children:"Login"})]}),u.isLoggedIn&&(0,i.jsxs)("div",{onClick:function(){return function(){return k.apply(this,arguments)}()},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,i.jsx)(a.VUx,{}),(0,i.jsx)("div",{children:"Logout"})]}),!u.isLoggedIn&&(0,i.jsxs)("div",{onClick:function(){return w.push("/register")},className:"flex flex-row items-center bg-stone-800 p-1 space-x-1 rounded cursor-pointer",children:[(0,i.jsx)(a.xv7,{}),(0,i.jsx)("div",{children:"Register"})]})]})]}),(0,i.jsx)("div",{className:"bg-black rounded-xl p-5 text-white text-2xl font-bold mt-2",children:(0,i.jsx)("main",{children:s})})]}),(0,i.jsxs)("div",{className:"flex flex-row justify-between mb-1 fixed bottom-2 px-20 w-full sm:hidden text-white",children:[(0,i.jsx)(l.s1w,{onClick:function(){w.push("/")},className:"text-blue-700",size:32}),(0,i.jsx)(a.S8z,{onClick:function(){r("user")},size:32,strokeWidth:1}),(0,i.jsx)(a.K99,{onClick:function(){r("classes")},size:32,strokeWidth:1}),(0,i.jsx)(a.HLl,{onClick:function(){r("groups")},size:32,strokeWidth:1})]})]})})]});function N(){return(N=b(n().mark((function e(s){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t={email:s.currentTarget.email.value,password:s.currentTarget.password.value},e.prev=2,e.next=5,h()({method:"post",url:"/api/login",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){f((0,p.Q_)(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function k(){return(k=b(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()({method:"get",url:"/api/logout"}).then((function(e){f((0,p.Q_)(e.data))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(){return(y=b(n().mark((function e(s){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t={first_name:s.currentTarget.first_name.value,last_name:s.currentTarget.last_name.value,email:s.currentTarget.email.value,password:s.currentTarget.password.value},e.prev=2,e.next=5,h()({method:"post",url:"/api/register",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){"Email already exists"!==e.data.message&&f((0,p.Q_)(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}}}}]);