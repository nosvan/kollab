(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{6147:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classes",function(){return n(3570)}])},6592:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(5893),i=n(6607),a=n(6960),o=n.n(a),c=n(7106),s=n(7702),u=n(4051),l=n.n(u),d=n(9669),f=n.n(d),p=n(7607),x=n(7294),h=n(5704),m=(n(9111),n(9473)),g=n(3742),v=n(710),y=n(9185);function b(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){b(a,r,i,o,c,"next",e)}function c(e){b(a,r,i,o,c,"throw",e)}o(void 0)}))}}function j(e){var t=function(){return e.itemCategory===p.W.CLASSROOM?i.id:n.id},n=(0,m.v9)((function(e){return e.group_store.group})),i=(0,m.v9)((function(e){return e.class_store.class})),a=(0,m.I0)(),o=(0,x.useState)(),c=o[0],s=o[1];return(0,r.jsx)("form",{onSubmit:function(e){return u.apply(this,arguments)},children:(0,r.jsxs)("div",{className:"flex flex-col text-sm space-y-1",children:[(0,r.jsx)("select",{className:"text-white bg-stone-800 p-1 rounded-lg",required:!0,name:"item_type",children:Object.keys(p.q).map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))}),(0,r.jsx)("label",{className:"text-white px-1",children:"name"}),(0,r.jsx)("input",{className:"text-white bg-stone-800 p-1 rounded-lg",type:"text",required:!0,id:"item_name",name:"item_name"}),(0,r.jsx)("label",{className:"text-white px-1",children:"description"}),(0,r.jsx)("textarea",{className:"text-white bg-stone-800 px-1 rounded-lg",required:!0,id:"description",name:"description"}),(0,r.jsx)("label",{className:"text-white px-1",children:"Due Date"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(h._W,{mode:"single",selected:c,onSelect:s})}),(0,r.jsxs)("div",{className:"flex flex-row py-5 justify-start text-center text-sm space-x-2",children:[(0,r.jsx)("div",{className:"bg-black border-2 border-white hover:bg-gray-800 hover:border-gray-300 text-white rounded-lg px-2 cursor-pointer",onClick:function(){return a((0,y.de)(!1))},children:(0,r.jsx)("span",{children:"Cancel"})}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-600 border-2 border-blue-700 hover:border-blue-600 px-3 rounded-lg text-white",children:"Create"})]})]})});function u(){return(u=w(l().mark((function n(r){var i,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),i=r.currentTarget,o={name:i.item_name.value,description:i.description.value,category:e.itemCategory,category_id:t(),item_type:i.item_type.value,due_date:c?c.toString():(new Date).toString(),date:e.selectedDate.toString()},n.prev=3,n.next=6,f()({method:"post",url:"/api/item/new",data:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){e.data[0].category===p.W.CLASSROOM&&a((0,g.S1)(e.data)),e.data[0].category===p.W.GROUP&&a((0,v.$6)(e.data)),e.data[0].category===p.W.PERSONAL&&a((0,y.LR)(e.data))}));case 6:i.reset(),a((0,y.de)(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))).apply(this,arguments)}}function N(e){var t=function(e){switch(e){case"ASSIGNMENT":return"bg-emerald-400 hover:bg-emerald-300";case"NOTE":return"bg-yellow-400 hover:bg-yellow-300";case"PROJECT":return"bg-fuchsia-400 hover:bg-fuchsia-300";case"REMINDER":return"bg-cyan-400 hover:bg-cyan-300";default:return"bg-white"}},n=(0,m.v9)((function(e){return e.user_store.createNewItemMode})),a=(0,m.I0)(),u=((new Date).toDateString(),function(n,a){return a.filter((function(t){return t.category==p.W[e.category]&&(0,i.iE)(t.date)==n.toDateString()})).map((function(e){return(0,r.jsx)("div",{className:"text-xs rounded-md\n            text-center text-black mx-1 cursor-pointer ".concat(t(e.item_type)),children:e.name},e.id)}))});return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex flex-row flex-wrap break-words",children:e.days.map((function(t,n){return(0,r.jsxs)("div",{className:"pb-1 space-y-1 px-1 ".concat(o()["day-container"]),children:[(0,r.jsxs)("div",{className:"flex flex-row space-x-1 justify-center items-center bg-stone-800 text-center text-sm rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,i.fY)(t)," ",(0,i.gi)(t)," ",t.getDate()]}),(0,r.jsx)("div",{children:(0,r.jsx)(c.rIf,{onClick:function(){e.setSelectedDate(t),a((0,y.de)(!0))},className:"hover:bg-stone-700 cursor-pointer rounded-xl"})})]}),u(t,e.items)]},n)}))}),n&&(0,r.jsx)(s.Z,{modalId:"create_item_modal",modalOpen:y.de,children:(0,r.jsx)(j,{selectedDate:e.selectedDate,itemCategory:e.category})})]})}},7607:function(e,t,n){"use strict";var r,i;n.d(t,{W:function(){return r},q:function(){return i}}),function(e){e.CLASSROOM="CLASSROOM",e.GROUP="GROUP",e.PERSONAL="PERSONAL"}(r||(r={})),function(e){e.ASSIGNMENT="ASSIGNMENT",e.NOTE="NOTE",e.PROJECT="PROJECT",e.REMINDER="REMINDER"}(i||(i={}))},3570:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return b},default:function(){return w}});var r=n(4051),i=n.n(r),a=n(5893),o=n(3998),c=n(7294),s=n(9473),u=n(9185),l=n(9669),d=n.n(l),f=n(3742),p=n(1163),x=n(6592),h=n(6607),m=n(7607);function g(e,t,n,r,i,a,o){try{var c=e[a](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,c,"next",e)}function c(e){g(a,r,i,o,c,"throw",e)}o(void 0)}))}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=!0;function w(e){var t=e.user,n=function(e){D(e),R((0,h.gw)(e,N))},r=(0,s.I0)(),l=(0,p.useRouter)();(0,c.useEffect)((function(){function e(){return(e=v(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"/api/classroom/class"}).then((function(e){r((0,f.fq)(e.data))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.isLoggedIn?(r((0,u.Q_)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({},t,{currentTab:"classes"}))),function(){e.apply(this,arguments)}()):l.push("/")}),[]);var g=(0,s.v9)((function(e){return e.class_store.class})),b=(0,s.v9)((function(e){return e.class_store.classes})),w=(0,s.v9)((function(e){return e.class_store.items}));(0,c.useEffect)((function(){function e(){return(e=v(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"/api/item/item",params:{category:m.W.CLASSROOM,category_id:g.id}}).then((function(e){r((0,f._C)(e.data))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}-999!==g.id&&function(){e.apply(this,arguments)}()}),[g]);var j=(0,c.useState)((function(){return new Date})),N=j[0],S=j[1],_=(0,c.useState)(7),O=_[0],D=_[1],E=(0,c.useState)((function(){return(0,h.gw)(O,N)})),C=E[0],R=E[1];return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.A,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-row flex-wrap space-y-1 items-center justify-between text-sm mb-1",children:[b&&b.length>0&&(0,a.jsx)("select",{value:g.id,onChange:function(e){e.preventDefault();var t=e.currentTarget.value,n=b.find((function(e){return e.id==t}));r((0,f.Z6)(n))},name:"groups",id:"groups-select",className:"rounded-lg text-white text-base bg-stone-800 p-1 ml-1",children:b.map((function(e){return(0,a.jsxs)("option",{value:e.id,children:[e.name," (#",e.id,")"]},e.id)}))}),(0,a.jsxs)("div",{className:"flex flex-row space-x-1 bg-stone-800 hover:bg-stone-700 cursor-pointer rounded-lg p-1 mx-1",children:[(0,a.jsx)("div",{onClick:function(){return n(1)},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg",children:"Day"}),(0,a.jsx)("div",{onClick:function(){return n(7)},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg",children:"Week"}),(0,a.jsx)("div",{onClick:function(){return n(30)},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg",children:"Month"})]})]}),(0,a.jsx)(x.Z,{dayLayout:O,days:C,selectedDate:N,setSelectedDate:S,category:m.W.CLASSROOM,items:w})]})})})}},6607:function(e,t,n){"use strict";function r(e){return e.toLocaleString("default",{month:"short"})}function i(e){return e.toLocaleString("default",{weekday:"short"})}function a(e,t){var n=[];if(1==e)return n.push(t),n;var r=t.getDay(),i=t.getDate();if(7==e){n[r]=t;for(var a=0;a<e;a++)a!==r&&(n[a]=new Date(t.getTime()+24*(a-r)*60*60*1e3));return n}var o=t.getMonth(),c=new Date(t.getFullYear(),o+1,0).getDate();n[i]=t;for(var s=1;s<=c;s++)s!==i&&(n[s]=new Date(t.getTime()+24*(s-i)*60*60*1e3));return n}function o(e,t){return new Date(e.getTime()+24*t*60*60*1e3)}function c(e,t){return new Date(e.getTime()-24*t*60*60*1e3)}function s(e){return new Date(e).toDateString()}n.d(t,{fY:function(){return i},gi:function(){return r},gw:function(){return a},iE:function(){return s},wM:function(){return c},xA:function(){return o}})},6960:function(e){e.exports={"day-container":"task_view_day-container__zw5hJ"}}},function(e){e.O(0,[445,907,13,994,22,556,998,774,888,179],(function(){return t=6147,e(e.s=t);var t}));var t=e.O();_N_E=t}]);