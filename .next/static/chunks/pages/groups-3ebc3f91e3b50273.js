(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{6041:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups",function(){return n(9759)}])},3524:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5893);function o(e){var t;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"Item"}),(0,r.jsx)("div",{children:null===(t=e.item)||void 0===t?void 0:t.name})]})}},7043:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(5893),o=n(6607),i=n(1272),c=n.n(i),a=n(7106),u=n(1890),s=n(4051),l=n.n(s),d=n(9669),f=n.n(d),g=n(7607),p=n(7294),x=n(9473),m=n(3742),h=n(710),v=n(9185),b=n(9198),w=n.n(b),y=(n(5828),n(3627));function j(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){j(i,r,o,c,a,"next",e)}function a(e){j(i,r,o,c,a,"throw",e)}c(void 0)}))}}function S(e){var t=function(){switch(e.itemCategory){case g.W.CLASSROOM:return o.id;case g.W.GROUP:return n.id;default:return null}},n=(0,x.v9)((function(e){return e.group_store.group})),o=(0,x.v9)((function(e){return e.class_store.class})),i=(0,x.I0)(),c=(0,p.useState)(),a=c[0],u=c[1];return(0,r.jsx)("form",{onSubmit:function(e){return s.apply(this,arguments)},children:(0,r.jsxs)("div",{className:"flex flex-col text-sm space-y-1",children:[(0,r.jsx)("select",{className:"text-white bg-stone-800 p-1 rounded-lg",required:!0,name:"item_type",children:Object.keys(g.q).map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))}),(0,r.jsx)("label",{className:"text-white px-1",children:"name"}),(0,r.jsx)("input",{className:"text-white bg-stone-800 p-1 rounded-lg",type:"text",required:!0,id:"item_name",name:"item_name"}),(0,r.jsx)("label",{className:"text-white px-1",children:"description"}),(0,r.jsx)("textarea",{className:"text-white bg-stone-800 px-1 rounded-lg",required:!0,id:"description",name:"description"}),(0,r.jsx)("label",{className:"text-white px-1",children:"Due Date"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(w(),{className:"text-white bg-stone-800 p-1 rounded-lg",selected:a,onChange:function(e){return u(e)}})}),(0,r.jsxs)("div",{className:"flex flex-row py-5 justify-start text-center text-sm space-x-2",children:[(0,r.jsx)("div",{className:"bg-black border-2 border-white hover:bg-gray-800 hover:border-gray-300 text-white rounded-lg px-2 cursor-pointer",onClick:function(){return i((0,v.de)(!1))},children:(0,r.jsx)("span",{children:"Cancel"})}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-600 border-2 border-blue-700 hover:border-blue-600 px-3 rounded-lg text-white",children:"Create"})]})]})});function s(){return(s=N(l().mark((function n(r){var o,c;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=r.currentTarget,c={name:o.item_name.value,description:o.description.value,category:e.itemCategory,category_id:t(),item_type:o.item_type.value,due_date:a?a.toString():(new Date).toString(),date:e.selectedDate.toString()},n.prev=3,n.next=6,f()({method:"post",url:"/api/item/new",data:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){e.data[0].category===g.W.CLASSROOM&&i((0,m.S1)(e.data)),e.data[0].category===g.W.GROUP&&i((0,h.$6)(e.data)),e.data[0].category===g.W.PERSONAL&&i((0,y.Dw)(e.data))}));case 6:o.reset(),i((0,v.de)(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))).apply(this,arguments)}}function O(e){var t=function(e){switch(e){case"ASSIGNMENT":return"bg-emerald-400 hover:bg-emerald-300";case"NOTE":return"bg-yellow-400 hover:bg-yellow-300";case"PROJECT":return"bg-fuchsia-400 hover:bg-fuchsia-300";case"REMINDER":return"bg-cyan-400 hover:bg-cyan-300";default:return"bg-white"}},n=(0,x.v9)((function(e){return e.user_store.createNewItemMode})),i=(0,x.I0)(),s=(new Date).toDateString(),l=function(n,c){return c.filter((function(t){return t.category==g.W[e.category]&&(0,o.iE)(t.date)==n.toDateString()})).map((function(n){return(0,r.jsx)("div",{onClick:function(){return function(t){switch(e.category){case g.W.GROUP:i((0,h.K3)(!0)),i((0,h.Je)(t));break;case g.W.CLASSROOM:i((0,m.Q5)(!0)),i((0,m.YE)(t));break;case g.W.PERSONAL:i((0,y.nn)(!0)),i((0,y.K$)(t))}}(n)},className:"text-xs rounded-md\n            text-center text-black mx-1 cursor-pointer ".concat(t(n.item_type)),children:n.name},n.id)}))};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex flex-row flex-wrap break-words",children:e.days.map((function(t,n){return(0,r.jsxs)("div",{className:"pb-1 space-y-1 px-1 ".concat(c()["day-container"]),children:[(0,r.jsxs)("div",{className:"flex flex-row space-x-1 justify-center items-center bg-stone-800 text-center text-sm rounded-lg ".concat(s==t.toDateString()?"underline":""),children:[(0,r.jsxs)("div",{children:[(0,o.fY)(t)," ",(0,o.gi)(t)," ",t.getDate()]}),(0,r.jsx)("div",{children:(0,r.jsx)(a.rIf,{onClick:function(){e.setSelectedDate(t),i((0,v.de)(!0))},className:"hover:bg-stone-700 cursor-pointer rounded-xl"})})]}),l(t,e.items)]},n)}))}),n&&(0,r.jsx)(u.Z,{modalId:"create_item_modal",modalOpen:v.de,children:(0,r.jsx)(S,{selectedDate:e.selectedDate,itemCategory:e.category})})]})}},7607:function(e,t,n){"use strict";var r,o;n.d(t,{W:function(){return r},q:function(){return o}}),function(e){e.CLASSROOM="CLASSROOM",e.GROUP="GROUP",e.PERSONAL="PERSONAL"}(r||(r={})),function(e){e.ASSIGNMENT="ASSIGNMENT",e.NOTE="NOTE",e.PROJECT="PROJECT",e.REMINDER="REMINDER"}(o||(o={}))},9759:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return N},default:function(){return S}});var r=n(4051),o=n.n(r),i=n(5893),c=n(6639),a=n(7294),u=n(9473),s=n(9185),l=n(9669),d=n.n(l),f=n(710),g=n(1163),p=n(7043),x=n(6607),m=n(7607),h=n(7106),v=n(3524),b=n(1890);function w(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){w(i,r,o,c,a,"next",e)}function a(e){w(i,r,o,c,a,"throw",e)}c(void 0)}))}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=!0;function S(e){var t=e.user,n=function(e){E(e)},r=(0,u.I0)(),l=(0,g.useRouter)();(0,a.useEffect)((function(){function e(){return(e=y(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"/api/group/group"}).then((function(e){e.data.length>0&&r((0,f.pt)(e.data))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.isLoggedIn?(r((0,s.Q_)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({},t,{currentTab:"groups"}))),function(){e.apply(this,arguments)}()):l.push("/")}),[]);var w=(0,u.v9)((function(e){return e.group_store}));(0,a.useEffect)((function(){function e(){return(e=y(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"/api/item/item",params:{category:m.W.GROUP,category_id:w.group.id}}).then((function(e){r((0,f.G)(e.data))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}-999!==w.group.id&&function(){e.apply(this,arguments)}()}),[w.group]);var N=(0,a.useState)((function(){return new Date})),S=N[0],O=N[1],_=(0,a.useState)(7),D=_[0],E=_[1],k=(0,a.useState)((function(){return(0,x.gw)(D,S)})),C=k[0],R=k[1];return(0,a.useEffect)((function(){R((0,x.gw)(D,S))}),[D,S]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.A,{children:(0,i.jsxs)("div",{className:"bg-black rounded-3xl p-5 text-white mt-2",children:[(0,i.jsxs)("div",{className:"flex flex-row items-center flex-wrap space-y-1 justify-between text-sm mb-1",children:[w.groups&&w.groups.length>0&&(0,i.jsx)("select",{value:w.group.id,onChange:function(e){e.preventDefault();var t=e.currentTarget.value,n=w.groups.find((function(e){return e.id==t}));r((0,f.g6)(n))},name:"groups",id:"groups-select",className:"flex flex-col rounded-lg items-center text-white bg-stone-800 hover:bg-stone-700 cursor-pointer text-sm mx-1",children:w.groups.map((function(e){return(0,i.jsxs)("option",{value:e.id,children:[e.name," (#",e.id,")"]},e.id)}))}),(0,i.jsxs)("div",{className:"flex flex-row items-center space-x-2 px-1 bg-stone-800 rounded-lg mx-1",children:[(0,i.jsx)("div",{onClick:function(){O((0,x.wM)(S,D))},className:"hover:bg-stone-700 cursor-pointer rounded-lg",children:(0,i.jsx)(h._6d,{})}),(0,i.jsx)("div",{onClick:function(){return n(1)},className:"hover:bg-stone-700 cursor-pointer rounded-lg ".concat(1===D?"bg-stone-700":""),children:"Day"}),(0,i.jsx)("div",{onClick:function(){return n(7)},className:"hover:bg-stone-700 cursor-pointer rounded-lg ".concat(7===D?"bg-stone-700":""),children:"Week"}),(0,i.jsx)("div",{onClick:function(){return n(30)},className:"hover:bg-stone-700 cursor-pointer rounded-lg ".concat(30===D?"bg-stone-700":""),children:"Month"}),(0,i.jsx)("div",{onClick:function(){O((0,x.xA)(S,D))},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg",children:(0,i.jsx)(h.z3X,{})})]})]}),w.groups.length>0&&(0,i.jsx)(p.Z,{dayLayout:D,days:C,selectedDate:S,setSelectedDate:O,category:m.W.GROUP,items:w.items}),w.viewGroupItemMode&&(0,i.jsx)(b.Z,{modalId:"view_group_item_modal",modalOpen:f.K3,children:(0,i.jsx)(v.Z,{item:w.item})})]})})})}},6607:function(e,t,n){"use strict";function r(e){return e.toLocaleString("default",{month:"short"})}function o(e){return e.toLocaleString("default",{weekday:"short"})}function i(e,t){var n=[];if(1==e)return n.push(t),n;var r=t.getDay(),o=t.getDate();if(7==e){n[r]=t;for(var i=0;i<e;i++)i!==r&&(n[i]=new Date(t.getTime()+24*(i-r)*60*60*1e3));return n}var c=t.getMonth(),a=new Date(t.getFullYear(),c+1,0).getDate();n[o]=t;for(var u=1;u<=a;u++)u!==o&&(n[u]=new Date(t.getTime()+24*(u-o)*60*60*1e3));return n}function c(e,t){return new Date(e.getTime()+24*t*60*60*1e3)}function a(e,t){return new Date(e.getTime()-24*t*60*60*1e3)}function u(e){return new Date(e).toDateString()}n.d(t,{fY:function(){return o},gi:function(){return r},gw:function(){return i},iE:function(){return u},wM:function(){return a},xA:function(){return c}})},1272:function(e){e.exports={"day-container":"task_view_day-container__seGmw"}}},function(e){e.O(0,[445,907,13,994,22,960,639,774,888,179],(function(){return t=6041,e(e.s=t);var t}));var t=e.O();_N_E=t}]);