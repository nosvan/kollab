(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{6041:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/groups",function(){return n(9759)}])},6592:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(5893),o=n(6607),i=n(6960),c=n.n(i),a=n(7106),u=n(7702),s=n(4051),l=n.n(s),d=n(9669),f=n.n(d),p=n(7607),g=n(7294),x=n(5704),h=(n(9111),n(9473)),m=n(3742),v=n(710),b=n(9185);function y(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){y(i,r,o,c,a,"next",e)}function a(e){y(i,r,o,c,a,"throw",e)}c(void 0)}))}}function j(e){var t=function(){return e.itemCategory===p.W.CLASSROOM?o.id:n.id},n=(0,h.v9)((function(e){return e.group_store.group})),o=(0,h.v9)((function(e){return e.class_store.class})),i=(0,h.I0)(),c=(0,g.useState)(),a=c[0],u=c[1];return(0,r.jsx)("form",{onSubmit:function(e){return s.apply(this,arguments)},children:(0,r.jsxs)("div",{className:"flex flex-col text-sm space-y-1",children:[(0,r.jsx)("select",{className:"text-white bg-stone-800 p-1 rounded-lg",required:!0,name:"item_type",children:Object.keys(p.q).map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))}),(0,r.jsx)("label",{className:"text-white px-1",children:"name"}),(0,r.jsx)("input",{className:"text-white bg-stone-800 p-1 rounded-lg",type:"text",required:!0,id:"item_name",name:"item_name"}),(0,r.jsx)("label",{className:"text-white px-1",children:"description"}),(0,r.jsx)("textarea",{className:"text-white bg-stone-800 px-1 rounded-lg",required:!0,id:"description",name:"description"}),(0,r.jsx)("label",{className:"text-white px-1",children:"Due Date"}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(x._W,{mode:"single",selected:a,onSelect:u})}),(0,r.jsxs)("div",{className:"flex flex-row py-5 justify-start text-center text-sm space-x-2",children:[(0,r.jsx)("div",{className:"bg-black border-2 border-white hover:bg-gray-800 hover:border-gray-300 text-white rounded-lg px-2 cursor-pointer",onClick:function(){return i((0,b.de)(!1))},children:(0,r.jsx)("span",{children:"Cancel"})}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-600 border-2 border-blue-700 hover:border-blue-600 px-3 rounded-lg text-white",children:"Create"})]})]})});function s(){return(s=w(l().mark((function n(r){var o,c;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),o=r.currentTarget,c={name:o.item_name.value,description:o.description.value,category:e.itemCategory,category_id:t(),item_type:o.item_type.value,due_date:a?a.toString():(new Date).toString(),date:e.selectedDate.toString()},n.prev=3,n.next=6,f()({method:"post",url:"/api/item/new",data:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){e.data[0].category===p.W.CLASSROOM&&i((0,m.S1)(e.data)),e.data[0].category===p.W.GROUP&&i((0,v.$6)(e.data)),e.data[0].category===p.W.PERSONAL&&i((0,b.LR)(e.data))}));case 6:o.reset(),i((0,b.de)(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))).apply(this,arguments)}}function N(e){var t=function(e){switch(e){case"ASSIGNMENT":return"bg-emerald-400 hover:bg-emerald-300";case"NOTE":return"bg-yellow-400 hover:bg-yellow-300";case"PROJECT":return"bg-fuchsia-400 hover:bg-fuchsia-300";case"REMINDER":return"bg-cyan-400 hover:bg-cyan-300";default:return"bg-white"}},n=(0,h.v9)((function(e){return e.user_store.createNewItemMode})),i=(0,h.I0)(),s=((new Date).toDateString(),function(n,i){return i.filter((function(t){return t.category==p.W[e.category]&&(0,o.iE)(t.date)==n.toDateString()})).map((function(e){return(0,r.jsx)("div",{className:"text-xs rounded-md\n            text-center text-black mx-1 cursor-pointer ".concat(t(e.item_type)),children:e.name},e.id)}))});return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex flex-row flex-wrap break-words",children:e.days.map((function(t,n){return(0,r.jsxs)("div",{className:"pb-1 space-y-1 px-1 ".concat(c()["day-container"]),children:[(0,r.jsxs)("div",{className:"flex flex-row space-x-1 justify-center items-center bg-stone-800 text-center text-sm rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,o.fY)(t)," ",(0,o.gi)(t)," ",t.getDate()]}),(0,r.jsx)("div",{children:(0,r.jsx)(a.rIf,{onClick:function(){e.setSelectedDate(t),i((0,b.de)(!0))},className:"hover:bg-stone-700 cursor-pointer rounded-xl"})})]}),s(t,e.items)]},n)}))}),n&&(0,r.jsx)(u.Z,{modalId:"create_item_modal",modalOpen:b.de,children:(0,r.jsx)(j,{selectedDate:e.selectedDate,itemCategory:e.category})})]})}},7607:function(e,t,n){"use strict";var r,o;n.d(t,{W:function(){return r},q:function(){return o}}),function(e){e.CLASSROOM="CLASSROOM",e.GROUP="GROUP",e.PERSONAL="PERSONAL"}(r||(r={})),function(e){e.ASSIGNMENT="ASSIGNMENT",e.NOTE="NOTE",e.PROJECT="PROJECT",e.REMINDER="REMINDER"}(o||(o={}))},9759:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return w},default:function(){return j}});var r=n(4051),o=n.n(r),i=n(5893),c=n(3998),a=n(7294),u=n(9473),s=n(9185),l=n(9669),d=n.n(l),f=n(710),p=n(1163),g=n(6592),x=n(6607),h=n(7607),m=n(7106);function v(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(s){return void n(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){v(i,r,o,c,a,"next",e)}function a(e){v(i,r,o,c,a,"throw",e)}c(void 0)}))}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=!0;function j(e){var t=e.user,n=function(e){E(e)},r=(0,u.I0)(),l=(0,p.useRouter)();(0,a.useEffect)((function(){function e(){return(e=b(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"/api/group/group"}).then((function(e){e.data.length>0&&r((0,f.pt)(e.data))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.isLoggedIn?(r((0,s.Q_)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({},t,{currentTab:"groups"}))),function(){e.apply(this,arguments)}()):l.push("/")}),[]);var v=(0,u.v9)((function(e){return e.group_store.group})),w=(0,u.v9)((function(e){return e.group_store.groups})),j=(0,u.v9)((function(e){return e.group_store.items}));(0,a.useEffect)((function(){function e(){return(e=b(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"get",url:"/api/item/item",params:{category:h.W.GROUP,category_id:v.id}}).then((function(e){r((0,f.G)(e.data))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("current group:",v),-999!==v.id&&function(){e.apply(this,arguments)}()}),[v]);var N=(0,a.useState)((function(){return new Date})),_=N[0],S=N[1],O=(0,a.useState)(7),D=O[0],E=O[1],k=(0,a.useState)((function(){return(0,x.gw)(D,_)})),C=k[0],R=k[1];return(0,a.useEffect)((function(){R((0,x.gw)(D,_))}),[D,_]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(c.A,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex flex-row flex-wrap space-y-1 items-center justify-between text-sm mb-1",children:[w&&w.length>0&&(0,i.jsx)("select",{value:v.id,onChange:function(e){e.preventDefault();var t=e.currentTarget.value,n=w.find((function(e){return e.id==t}));r((0,f.g6)(n))},name:"groups",id:"groups-select",className:"rounded-lg text-white bg-stone-800 hover:bg-stone-700 cursor-pointer text-base p-1 ml-1",children:w.map((function(e){return(0,i.jsxs)("option",{value:e.id,className:"relative",children:[e.name," (#",e.id,")"]},e.id)}))}),(0,i.jsxs)("div",{className:"flex flex-row items-center space-x-1 bg-stone-800 rounded-lg p-1 mx-1",children:[(0,i.jsx)("div",{onClick:function(){S((0,x.wM)(_,D))},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg",children:(0,i.jsx)(m._6d,{})}),(0,i.jsx)("div",{onClick:function(){return n(1)},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg ".concat(1===D?"bg-stone-700":""),children:"Day"}),(0,i.jsx)("div",{onClick:function(){return n(7)},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg ".concat(7===D?"bg-stone-700":""),children:"Week"}),(0,i.jsx)("div",{onClick:function(){return n(30)},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg ".concat(30===D?"bg-stone-700":""),children:"Month"}),(0,i.jsx)("div",{onClick:function(){S((0,x.xA)(_,D))},className:"hover:bg-stone-700 cursor-pointer px-1 rounded-lg",children:(0,i.jsx)(m.z3X,{})})]})]}),(0,i.jsx)(g.Z,{dayLayout:D,days:C,selectedDate:_,setSelectedDate:S,category:h.W.GROUP,items:j})]})})})}},6607:function(e,t,n){"use strict";function r(e){return e.toLocaleString("default",{month:"short"})}function o(e){return e.toLocaleString("default",{weekday:"short"})}function i(e,t){var n=[];if(1==e)return n.push(t),n;var r=t.getDay(),o=t.getDate();if(7==e){n[r]=t;for(var i=0;i<e;i++)i!==r&&(n[i]=new Date(t.getTime()+24*(i-r)*60*60*1e3));return n}var c=t.getMonth(),a=new Date(t.getFullYear(),c+1,0).getDate();n[o]=t;for(var u=1;u<=a;u++)u!==o&&(n[u]=new Date(t.getTime()+24*(u-o)*60*60*1e3));return n}function c(e,t){return new Date(e.getTime()+24*t*60*60*1e3)}function a(e,t){return new Date(e.getTime()-24*t*60*60*1e3)}function u(e){return new Date(e).toDateString()}n.d(t,{fY:function(){return o},gi:function(){return r},gw:function(){return i},iE:function(){return u},wM:function(){return a},xA:function(){return c}})},6960:function(e){e.exports={"day-container":"task_view_day-container__zw5hJ"}}},function(e){e.O(0,[445,907,13,994,22,556,998,774,888,179],(function(){return t=6041,e(e.s=t);var t}));var t=e.O();_N_E=t}]);