generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_POSGRESQL_URL")
}

model user {
  id         Int      @id @default(autoincrement())
  first_name String
  last_name  String
  email      String   @unique
  password   String
  created_at DateTime @default(now())
}

model school {
  id         Int      @id @default(autoincrement())
  name       String
  zipcode    Int
  town       String
  county     String
  state      String
  country    String
  created_at DateTime @default(now())
}

model classroom {
  id          Int      @id @default(autoincrement())
  name        String
  school_name String
  semester    Semester
  description String?
  passcode    String
  owner_id    Int
  created_at  DateTime @default(now())
}

model group {
  id          Int      @id @default(autoincrement())
  name        String
  description String?
  owner_id    Int
  passcode    String
  created_at  DateTime @default(now())
}

model group_permission {
  id         Int      @id @default(autoincrement())
  group_id   Int
  user_id    Int
  permission AccessLevel @default(public)
  created_at DateTime @default(now())
}

model item {
  id                  Int      @id @default(autoincrement())
  name                String
  description         String?
  category            Category?
  category_id         Int?
  item_type           ItemType
  due_date            DateTime?
  start_time          DateTime?
  end_time            DateTime?
  permission_level    VisibilityLevel @default(public)
  created_by_id       Int
  last_modified_by_id Int
  date                String?
  created_at          DateTime @default(now())
}

model item_permission {
  id           Int      @id @default(autoincrement())
  item_id      Int
  user_id      Int
  created_at   DateTime @default(now())
}

enum ItemType {
  assignment
  note
  project
  reminder
  meeting
  test
  other
}

enum AccessLevel {
  admin
  public
}

enum VisibilityLevel {
  admin
  private
  public
}

enum Category {
  classroom
  group
}

enum Semester {
  fall
  spring
  summer
  winter
  na
}